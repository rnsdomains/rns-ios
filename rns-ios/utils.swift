//
//  utils.swift
//  rns-ios
//
//  Created by Fede Ruiz on 31/05/2019.
//  Copyright Â© 2019 Sirius. All rights reserved.
//

import Foundation
import SwiftyJSON

let RegistryABI = "[\r\n    {\r\n        \"inputs\":[\r\n\r\n        ],\r\n        \"payable\":false,\r\n        \"stateMutability\":\"nonpayable\",\r\n        \"type\":\"constructor\"\r\n    },\r\n    {\r\n        \"anonymous\":false,\r\n        \"inputs\":[\r\n            {\r\n                \"indexed\":true,\r\n                \"name\":\"node\",\r\n                \"type\":\"bytes32\"\r\n            },\r\n            {\r\n                \"indexed\":true,\r\n                \"name\":\"label\",\r\n                \"type\":\"bytes32\"\r\n            },\r\n            {\r\n                \"indexed\":false,\r\n                \"name\":\"ownerAddress\",\r\n                \"type\":\"address\"\r\n            }\r\n        ],\r\n        \"name\":\"NewOwner\",\r\n        \"type\":\"event\"\r\n    },\r\n    {\r\n        \"anonymous\":false,\r\n        \"inputs\":[\r\n            {\r\n                \"indexed\":true,\r\n                \"name\":\"node\",\r\n                \"type\":\"bytes32\"\r\n            },\r\n            {\r\n                \"indexed\":false,\r\n                \"name\":\"ownerAddress\",\r\n                \"type\":\"address\"\r\n            }\r\n        ],\r\n        \"name\":\"Transfer\",\r\n        \"type\":\"event\"\r\n    },\r\n    {\r\n        \"anonymous\":false,\r\n        \"inputs\":[\r\n            {\r\n                \"indexed\":true,\r\n                \"name\":\"node\",\r\n                \"type\":\"bytes32\"\r\n            },\r\n            {\r\n                \"indexed\":false,\r\n                \"name\":\"resolverAddress\",\r\n                \"type\":\"address\"\r\n            }\r\n        ],\r\n        \"name\":\"NewResolver\",\r\n        \"type\":\"event\"\r\n    },\r\n    {\r\n        \"anonymous\":false,\r\n        \"inputs\":[\r\n            {\r\n                \"indexed\":true,\r\n                \"name\":\"node\",\r\n                \"type\":\"bytes32\"\r\n            },\r\n            {\r\n                \"indexed\":false,\r\n                \"name\":\"ttlValue\",\r\n                \"type\":\"uint64\"\r\n            }\r\n        ],\r\n        \"name\":\"NewTTL\",\r\n        \"type\":\"event\"\r\n    },\r\n    {\r\n        \"constant\":true,\r\n        \"inputs\":[\r\n            {\r\n                \"name\":\"node\",\r\n                \"type\":\"bytes32\"\r\n            }\r\n        ],\r\n        \"name\":\"owner\",\r\n        \"outputs\":[\r\n            {\r\n                \"name\":\"\",\r\n                \"type\":\"address\"\r\n            }\r\n        ],\r\n        \"payable\":false,\r\n        \"stateMutability\":\"view\",\r\n        \"type\":\"function\"\r\n    },\r\n    {\r\n        \"constant\":true,\r\n        \"inputs\":[\r\n            {\r\n                \"name\":\"node\",\r\n                \"type\":\"bytes32\"\r\n            }\r\n        ],\r\n        \"name\":\"resolver\",\r\n        \"outputs\":[\r\n            {\r\n                \"name\":\"\",\r\n                \"type\":\"address\"\r\n            }\r\n        ],\r\n        \"payable\":false,\r\n        \"stateMutability\":\"view\",\r\n        \"type\":\"function\"\r\n    },\r\n    {\r\n        \"constant\":true,\r\n        \"inputs\":[\r\n            {\r\n                \"name\":\"node\",\r\n                \"type\":\"bytes32\"\r\n            }\r\n        ],\r\n        \"name\":\"ttl\",\r\n        \"outputs\":[\r\n            {\r\n                \"name\":\"\",\r\n                \"type\":\"uint64\"\r\n            }\r\n        ],\r\n        \"payable\":false,\r\n        \"stateMutability\":\"view\",\r\n        \"type\":\"function\"\r\n    },\r\n    {\r\n        \"constant\":false,\r\n        \"inputs\":[\r\n            {\r\n                \"name\":\"node\",\r\n                \"type\":\"bytes32\"\r\n            },\r\n            {\r\n                \"name\":\"ownerAddress\",\r\n                \"type\":\"address\"\r\n            }\r\n        ],\r\n        \"name\":\"setOwner\",\r\n        \"outputs\":[\r\n\r\n        ],\r\n        \"payable\":false,\r\n        \"stateMutability\":\"nonpayable\",\r\n        \"type\":\"function\"\r\n    },\r\n    {\r\n        \"constant\":false,\r\n        \"inputs\":[\r\n            {\r\n                \"name\":\"node\",\r\n                \"type\":\"bytes32\"\r\n            },\r\n            {\r\n                \"name\":\"label\",\r\n                \"type\":\"bytes32\"\r\n            },\r\n            {\r\n                \"name\":\"ownerAddress\",\r\n                \"type\":\"address\"\r\n            }\r\n        ],\r\n        \"name\":\"setSubnodeOwner\",\r\n        \"outputs\":[\r\n\r\n        ],\r\n        \"payable\":false,\r\n        \"stateMutability\":\"nonpayable\",\r\n        \"type\":\"function\"\r\n    },\r\n    {\r\n        \"constant\":false,\r\n        \"inputs\":[\r\n            {\r\n                \"name\":\"node\",\r\n                \"type\":\"bytes32\"\r\n            },\r\n            {\r\n                \"name\":\"resolverAddress\",\r\n                \"type\":\"address\"\r\n            }\r\n        ],\r\n        \"name\":\"setResolver\",\r\n        \"outputs\":[\r\n\r\n        ],\r\n        \"payable\":false,\r\n        \"stateMutability\":\"nonpayable\",\r\n        \"type\":\"function\"\r\n    },\r\n    {\r\n        \"constant\":false,\r\n        \"inputs\":[\r\n            {\r\n                \"name\":\"node\",\r\n                \"type\":\"bytes32\"\r\n            },\r\n            {\r\n                \"name\":\"ttlValue\",\r\n                \"type\":\"uint64\"\r\n            }\r\n        ],\r\n        \"name\":\"setTTL\",\r\n        \"outputs\":[\r\n\r\n        ],\r\n        \"payable\":false,\r\n        \"stateMutability\":\"nonpayable\",\r\n        \"type\":\"function\"\r\n    },\r\n    {\r\n        \"constant\":false,\r\n        \"inputs\":[\r\n            {\r\n                \"name\":\"resolver\",\r\n                \"type\":\"address\"\r\n            }\r\n        ],\r\n        \"name\":\"setDefaultResolver\",\r\n        \"outputs\":[\r\n\r\n        ],\r\n        \"payable\":false,\r\n        \"stateMutability\":\"nonpayable\",\r\n        \"type\":\"function\"\r\n    }\r\n]"

let PublicResolverABI = "[\r\n    {\r\n        \"inputs\":[\r\n            {\r\n                \"name\":\"rnsAddr\",\r\n                \"type\":\"address\"\r\n            }\r\n        ],\r\n        \"payable\":false,\r\n        \"stateMutability\":\"nonpayable\",\r\n        \"type\":\"constructor\"\r\n    },\r\n    {\r\n        \"constant\":true,\r\n        \"inputs\":[\r\n            {\r\n                \"name\":\"node\",\r\n                \"type\":\"bytes32\"\r\n            },\r\n            {\r\n                \"name\":\"kind\",\r\n                \"type\":\"bytes32\"\r\n            }\r\n        ],\r\n        \"name\":\"has\",\r\n        \"outputs\":[\r\n            {\r\n                \"name\":\"\",\r\n                \"type\":\"bool\"\r\n            }\r\n        ],\r\n        \"payable\":false,\r\n        \"stateMutability\":\"view\",\r\n        \"type\":\"function\"\r\n    },\r\n    {\r\n        \"constant\":true,\r\n        \"inputs\":[\r\n            {\r\n                \"name\":\"interfaceID\",\r\n                \"type\":\"bytes4\"\r\n            }\r\n        ],\r\n        \"name\":\"supportsInterface\",\r\n        \"outputs\":[\r\n            {\r\n                \"name\":\"\",\r\n                \"type\":\"bool\"\r\n            }\r\n        ],\r\n        \"payable\":false,\r\n        \"stateMutability\":\"pure\",\r\n        \"type\":\"function\"\r\n    },\r\n    {\r\n        \"constant\":true,\r\n        \"inputs\":[\r\n            {\r\n                \"name\":\"node\",\r\n                \"type\":\"bytes32\"\r\n            }\r\n        ],\r\n        \"name\":\"addr\",\r\n        \"outputs\":[\r\n            {\r\n                \"name\":\"\",\r\n                \"type\":\"address\"\r\n            }\r\n        ],\r\n        \"payable\":false,\r\n        \"stateMutability\":\"view\",\r\n        \"type\":\"function\"\r\n    },\r\n    {\r\n        \"constant\":false,\r\n        \"inputs\":[\r\n            {\r\n                \"name\":\"node\",\r\n                \"type\":\"bytes32\"\r\n            },\r\n            {\r\n                \"name\":\"addrValue\",\r\n                \"type\":\"address\"\r\n            }\r\n        ],\r\n        \"name\":\"setAddr\",\r\n        \"outputs\":[\r\n\r\n        ],\r\n        \"payable\":false,\r\n        \"stateMutability\":\"nonpayable\",\r\n        \"type\":\"function\"\r\n    },\r\n    {\r\n        \"constant\":true,\r\n        \"inputs\":[\r\n            {\r\n                \"name\":\"node\",\r\n                \"type\":\"bytes32\"\r\n            }\r\n        ],\r\n        \"name\":\"content\",\r\n        \"outputs\":[\r\n            {\r\n                \"name\":\"\",\r\n                \"type\":\"bytes32\"\r\n            }\r\n        ],\r\n        \"payable\":false,\r\n        \"stateMutability\":\"view\",\r\n        \"type\":\"function\"\r\n    },\r\n    {\r\n        \"constant\":false,\r\n        \"inputs\":[\r\n            {\r\n                \"name\":\"node\",\r\n                \"type\":\"bytes32\"\r\n            },\r\n            {\r\n                \"name\":\"hash\",\r\n                \"type\":\"bytes32\"\r\n            }\r\n        ],\r\n        \"name\":\"setContent\",\r\n        \"outputs\":[\r\n\r\n        ],\r\n        \"payable\":false,\r\n        \"stateMutability\":\"nonpayable\",\r\n        \"type\":\"function\"\r\n    }\r\n]"

let loadedJsons = [
    "PublicResolverABI": PublicResolverABI,
    "RegistryABI": RegistryABI
]

func importJson(name: String) -> Data {
    return loadedJsons[name]!.data(using: .utf8)!
}
